#!/bin/bash

# Hardcoded defaults
#	Immutable
main_directory="~/.playlister/"
config_file="${main_directory}playlister.conf"
config_file_bak="${config_file}.bak"
database="${main_directory}playlister.db"
database_bak="${database}.bak"
helpfile="${main_directory}playlister.help"
#	Mutable
playlist_directory="${main_directory}playlists/"
mp3_directory="/mp3s"
mp3_ext=".mp3"
playlist_ext=".plst"

function main () {
	if [[ "$#" -eq 0 ]]; then
		user-output "invalid argument count (must be > 0)!"
		exit 1
	fi
	while [[ "$#" -gt 0 ]]; do
		case $1 in 
			config)
				shift
				config "$@"
				exit 1
				;;
			*)
				user-output "unrecognised option!"
				shift
				exit 1
				;;
		esac
	done
}

function user-output () {
	local output="$1"
	>&2 echo "$0: $1"
}

function config () {
	if [[ "$#" -eq 0 ]]; then
		user-output "invalid config argument count (must be >0)!"
		exit 1
	fi
	while [[ "$#" -gt 0 ]]; do
		case $1 in
			configure)
				user-output "config configure options not implemented yet!"
				exit 1
				;;
			*)
				user-output "unrecognised config option!"
				exit 1
		esac
	done
}

main "$@"
